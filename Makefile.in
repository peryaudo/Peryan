CXX = g++

ifeq ($(OS),Windows_NT)
	EXEEXT = .exe
	LIBS = `llvm-config --libs` -static-libgcc -static-libstdc++ -static
else
	EXEEXT = 
	LIBS = `llvm-config --libs`
endif

CXXFLAGS = -Wall -O3
CPPFLAGS = 
LDFLAGS = `llvm-config --ldflags`

all : $(TARGET)$(EXEEXT)

%.o: %.cc
	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c -o $@ $<

$(TARGET)$(EXEEXT): $(OBJS)
	$(CXX) -o $(TARGET)$(EXEEXT) $(OBJS) $(LIBS) $(LDFLAGS) $(CXXFLAGS) $(CPPFLAGS)

clean:
	$(RM) $(TARGET) $(OBJS)

